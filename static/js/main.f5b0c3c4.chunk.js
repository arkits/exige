(this["webpackJsonpexige-react"]=this["webpackJsonpexige-react"]||[]).push([[0],{178:function(e,t,a){e.exports=a.p+"static/media/Cesium_Air.cd61bf2e.glb"},203:function(e,t,a){e.exports=a(311)},208:function(e,t,a){},284:function(e,t){},307:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),o=a.n(r),i=a(383),c=a(385),s=(a(208),a(350)),u=Object(s.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,backgroundColor:e.palette.background.default,height:"100vh",overflow:"auto"}}})),m=a(384),d=a(36),g=a(44),E=a(70),f=a(353),p=a(355),b=a(356),h=a(12),v=a(91),y=a(10),x=function e(){Object(v.a)(this,e),this.sio={status:"DISCONNECTED",isEnabled:!1},this.operations={},this.positions={},this.mouseLocation={},this.snackbar={message:null,isOpen:!1,type:null},this.elementsToggle={mouseLocation:!0,operationsTable:!0,positionsTable:!1},this.gridTiles={enabled:!1,tilesData:null,zoomLevel:10},this.map={cameraCenter:{latitude:37.6213129,longitude:-122.3789554,altitude:1e5}},this.drawerOpen=!0};Object(y.i)(x,{sio:y.n,operations:y.n,positions:y.n,mouseLocation:y.n,gridZoomLevel:y.n,snackbar:y.n,elementsToggle:y.n,map:y.n,drawerOpen:y.n});var O=Object(n.createContext)(new x),C=Object(h.a)((function(){var e=Object(n.useContext)(O);return l.a.createElement("div",{style:{display:"flex",overflowY:"scroll",height:"80vh"}},l.a.createElement("pre",null,JSON.stringify(e,null,2)))}));var w=function(){return l.a.createElement(f.a,{container:!0,spacing:3,style:{padding:"30px"}},l.a.createElement(f.a,{item:!0,xs:12},l.a.createElement(p.a,{style:{maxHeight:"90vh"}},l.a.createElement(b.a,null,l.a.createElement(E.a,{variant:"h5"},"Store Dump"),l.a.createElement("br",null),l.a.createElement(C,null)))))};var S=function(){return l.a.createElement(f.a,{container:!0,spacing:3,style:{padding:"30px",display:"flex",alignItems:"center",justifyContent:"center",height:"60vh"}},l.a.createElement(f.a,{item:!0,xs:5},l.a.createElement(p.a,{style:{maxHeight:"90vh"}},l.a.createElement(b.a,null,l.a.createElement(E.a,{variant:"h5",style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"~/Exige")," ",l.a.createElement("br",null),l.a.createElement(E.a,{variant:"body1"},"Exige is a proof-of-concept traffic visualizer for UAM / UTM data."),l.a.createElement("br",null),l.a.createElement(E.a,{variant:"body1"},"Exige is built with: "),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(E.a,{variant:"body1"},"React JS")),l.a.createElement("li",null,l.a.createElement(E.a,{variant:"body1"},"Material-UI")),l.a.createElement("li",null,l.a.createElement(E.a,{variant:"body1"},"Cesium")),l.a.createElement("li",null,l.a.createElement(E.a,{variant:"body1"},"Socket.IO")))))))},j=a(68),k=Object(h.a)((function(){var e=Object(n.useContext)(O);return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.Event,{event:"connect",handler:function(){console.log("Connected!"),e.sio.status="CONNECTED"}}),l.a.createElement(j.Event,{event:"disconnect",handler:function(){console.log("Disconnect!"),e.sio.status="DISCONNECTED"}}),l.a.createElement(j.Event,{event:"position",handler:function(t){e.positions[t.data.vid]=t}}))})),M=Object(h.a)((function(){return Object(n.useContext)(O).sio.isEnabled?l.a.createElement(l.a.Fragment,null,l.a.createElement(j.Socket,{uri:"http://localhost:8786",options:{transports:["websocket"]}},l.a.createElement(k,null))):null})),T=Object(h.a)((function(){var e=Object(n.useContext)(O);return l.a.createElement("div",{className:"MouseLocationPanel"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"Mouse Location"),l.a.createElement("pre",{style:{fontFamily:"IBM Plex Mono",fontSize:"11px"}},JSON.stringify(function(){var t=e.mouseLocation,a=e.gridTiles.zoomLevel,n=Math.PI*(t.lat/180),l=Math.pow(2,a),r=Math.trunc((t.lng+180)/360*l),o=Math.trunc((1-Math.log(Math.tan(n)+1/Math.cos(n))/Math.PI)/2*l);return t.x=r,t.y=o,t.zoomLevel=parseInt(a),t}(),null,2)))})),N=a(314),I=a(9),_=a(364),D=a(367),L=a(366),F=a(365),P=a(313),W=a(363),B=a(391),A=a(387),z=a(362),R=a(64),G=a.n(R),H=Object(h.a)((function(){var e=Object(n.useContext)(O),t=l.a.useState(e.gridTiles.enabled),a=Object(I.a)(t,2),r=a[0],o=a[1];return l.a.createElement(B.a,{checked:r,value:"gridTileSwitch",onChange:function(){e.gridTiles.enabled=!e.gridTiles.enabled,o(e.gridTiles.enabled);var t="https://raw.githubusercontent.com/arkits/exige-react/master/grid/"+e.gridTiles.zoomLevel+".json";G.a.get(t).then((function(t){console.log("Got Grid Adaptation!"),e.gridTiles.tilesData=t.data}))}})})),U=Object(h.a)((function(){var e=Object(n.useContext)(O),t=l.a.useState(e.gridTiles.zoomLevel),a=Object(I.a)(t,2),r=a[0],o=a[1];return l.a.createElement(A.a,{value:r,onChange:function(t){e.gridTiles.zoomLevel=t.target.value,o(e.gridTiles.zoomLevel)}},l.a.createElement(z.a,{value:10},"10"),l.a.createElement(z.a,{value:11},"11"),l.a.createElement(z.a,{value:12},"12"),l.a.createElement(z.a,{value:9},"9"))})),J=function(){return l.a.createElement("div",null,l.a.createElement(f.a,{container:!0,spacing:3,direction:"row",justify:"space-around",alignItems:"center"},l.a.createElement(f.a,{item:!0},l.a.createElement(E.a,{variant:"body1"},"Show Grid Tiles")),l.a.createElement(f.a,{item:!0,xs:3},l.a.createElement(H,null))),l.a.createElement(f.a,{container:!0,spacing:3,direction:"row",justify:"space-around",alignItems:"center"},l.a.createElement(f.a,{item:!0},l.a.createElement(E.a,{variant:"body1"},"Grid Tile Zoom Level")),l.a.createElement(f.a,{item:!0,xs:3},l.a.createElement(U,null))))},V=l.a.forwardRef((function(e,t){return l.a.createElement(P.a,Object.assign({direction:"up",ref:t},e))}));var q=function(){var e=l.a.useState(!1),t=Object(I.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)};return l.a.createElement("div",null,l.a.createElement(N.a,{variant:"contained",style:{backgroundColor:"#01579b",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},onClick:function(){n(!0)},endIcon:l.a.createElement(W.a,null,"settings")},"Options"),l.a.createElement(_.a,{open:a,TransitionComponent:V,keepMounted:!0,onClose:r,"aria-labelledby":"alert-dialog-slide-title",maxWidth:"sm",fullWidth:!0,"aria-describedby":"alert-dialog-slide-description"},l.a.createElement(F.a,{id:"alert-dialog-slide-title"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"~/Exige Options")),l.a.createElement(L.a,null,l.a.createElement(J,null)),l.a.createElement(D.a,null,l.a.createElement(N.a,{onClick:r,style:{color:"#33b5e5"}},"Close"))))},Z=a(389),Y=l.a.forwardRef((function(e,t){return l.a.createElement(P.a,Object.assign({direction:"up",ref:t},e))})),K=Object(h.a)((function(){var e=Object(n.useState)(!1),t=Object(I.a)(e,2),a=t[0],r=t[1],o=function(){r(!1)},i=Object(n.useState)(""),c=Object(I.a)(i,2),s=c[0],u=c[1],m=Object(n.useContext)(O);return l.a.createElement("div",null,l.a.createElement(N.a,{variant:"contained",style:{marginLeft:"10px",backgroundColor:"#2e7d32",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},onClick:function(){r(!0)},endIcon:l.a.createElement(W.a,null,"add")},"Add Data"),l.a.createElement(_.a,{open:a,TransitionComponent:Y,keepMounted:!0,onClose:o,"aria-labelledby":"alert-dialog-slide-title",maxWidth:"sm",fullWidth:!0,"aria-describedby":"alert-dialog-slide-description"},l.a.createElement(F.a,{id:"alert-dialog-slide-title"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"Add Data to Exige")),l.a.createElement(L.a,null,l.a.createElement(Z.a,{id:"standard-multiline-static",label:"Load Data",multiline:!0,rows:"10",variant:"outlined",style:{width:"100%"},onChange:function(e){return u(e.target.value)},value:s}),l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement(N.a,{variant:"contained",color:"primary",size:"large",endIcon:l.a.createElement(W.a,null,"send"),onClick:function(){console.log("Adding Operation to AskariStore...");try{var e=JSON.parse(s);if(Array.isArray(e))e.forEach((function(e){var t=e.gufi;m.operations[t]=e}));else{var t=e.gufi;m.operations[t]=e}u("")}catch(a){console.error("Caught error when parsing inputData - ",a)}}},"Load Operation"))),l.a.createElement(D.a,null,l.a.createElement(N.a,{onClick:o},"Close"))))})),X=a(368),$=Object(h.a)((function(){var e=Object(n.useContext)(O),t=function(t){e.elementsToggle[t]=!e.elementsToggle[t]};return l.a.createElement("div",{style:{marginLeft:"auto"}},l.a.createElement(X.a,{color:"secondary","aria-label":"outlined primary button group"},l.a.createElement(N.a,{variant:e.elementsToggle.mouseLocation?"contained":"outlined",onClick:function(){return t("mouseLocation")},style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",color:"white"}},"Mouse Location"),l.a.createElement(N.a,{variant:e.elementsToggle.operationsTable?"contained":"outlined",onClick:function(){return t("operationsTable")},style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",color:"white"}},"Operations"),l.a.createElement(N.a,{variant:e.elementsToggle.positionsTable?"contained":"outlined",onClick:function(){return t("positionsTable")},style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",color:"white"}},"Positions")))})),Q=Object(h.a)((function(){var e=Object(n.useContext)(O);return l.a.createElement("div",{className:"OptionsBar",style:{width:e.drawerOpen?"calc(100% - 240px)":"calc(100% - 72px)"}},l.a.createElement(q,null),l.a.createElement(K,null),l.a.createElement($,null),l.a.createElement("div",{className:"leftStatus",style:{marginLeft:"auto",textTransform:"none"}},l.a.createElement(N.a,{variant:"contained",style:{textTransform:"none",fontFamily:"IBM Plex Mono",backgroundColor:"CONNECTED"===e.sio.status?"#1b5e20":"#d50000",fontWeight:"bold",color:"white"},onClick:function(){e.snackbar.message="Toggling Socket.IO Connection...",e.snackbar.isOpen=!0,e.sio.isEnabled=!e.sio.isEnabled}},"S.IO: ",e.sio.status)))})),ee=a(5),te=a(45),ae=a(178),ne=a.n(ae),le=Object(h.a)((function(){var e=Object(n.useContext)(O),t=Object(n.useRef)(),a=Object.values(e.positions),r=Object.values(e.operations),o=e.map.cameraCenter,i=ee.Cartesian3.fromDegrees(o.longitude,o.latitude,o.altitude);Object(n.useEffect)((function(){console.log("cameraDest got updated!")}),[i]);var c=function(e){var a=0,n=0;if(!t)return{longitudeString:a,latitudeString:n};if(!t.scene)return{longitudeString:a,latitudeString:n};var l=t.scene.globe.ellipsoid,r=t.scene.camera.pickEllipsoid(e,l);if(!r)return{longitudeString:a,latitudeString:n};var o=l.cartesianToCartographic(r);return{longitudeString:a=ee.Math.toDegrees(o.longitude).toFixed(15),latitudeString:n=ee.Math.toDegrees(o.latitude).toFixed(15)}};return l.a.createElement(te.g,{full:!0,animation:!1,timeline:!1,clockViewModel:null,shadows:!1,fullscreenButton:!1,selectionIndicator:!1,automaticallyTrackDataSourceClocks:!1,projectionPicker:!1,onClick:function(t){var a=c(t.position),n=a.longitudeString,l=a.latitudeString;e.snackbar.message="Copied location - "+l+", "+n,e.snackbar.isOpen=!0,navigator.clipboard.writeText(l+", "+n)},onMouseMove:function(t){var a=c(t.endPosition),n=a.longitudeString,l=a.latitudeString;e.mouseLocation.lng=parseFloat(n),e.mouseLocation.lat=parseFloat(l)},ref:function(e){t=e?e.cesiumElement:null,null!=e&&(t.scene.debugShowFramesPerSecond=!0,t.scene.requestRenderMode=!0)}},l.a.createElement(te.a,{destination:i,duration:0}),l.a.createElement(te.d,{data:e.gridTiles.tilesData,fill:ee.Color.ORANGE.withAlpha(0)}),l.a.createElement(te.b,{data:[{id:"document",name:"Exige CZML Document",version:"1.0"},{id:"redLine",name:"Red line clamped to terain",polyline:{positions:{cartographicDegrees:[-122.48161244913476,37.76535086493352,2e3,-122.46817753755798,37.69919680646592,2e3,-122.36626655399394,37.45728735390892,2e3,-122.09419935880746,37.336619112332095,2e3]},material:{solidColor:{color:{rgba:[255,0,0,255]}}},width:5}}]}),a.map((function(e){var t=ee.Cartesian3.fromDegrees(e.data.lonDeg,e.data.latDeg,e.data.altFt),a=(e.data.trueHeading-90)*ee.Math.RADIANS_PER_DEGREE,n=ee.Transforms.headingPitchRollToFixedFrame(t,new ee.HeadingPitchRoll(a,0,0));return l.a.createElement(te.e,{key:e.data.vid,id:e.data.vid,url:ne.a,modelMatrix:n,minimumPixelSize:128,maximumScale:1e4})})),r.map((function(e){var t,a=null===e||void 0===e?void 0:null===(t=e.exige)||void 0===t?void 0:t.hidden;"undefined"===typeof a&&(a=!1),console.log("We Hidden?",a);var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=e.operation_volumes[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var u=c.value,m=e.gufi+"_"+u.ordinal,d=[],g=!0,E=!1,f=void 0;try{for(var p,b=u.protected_geography.coordinates[0][Symbol.iterator]();!(g=(p=b.next()).done);g=!0){var h=p.value,v=!0,y=!1,x=void 0;try{for(var O,C=h[Symbol.iterator]();!(v=(O=C.next()).done);v=!0){var w=O.value;d.push(w)}}catch(j){y=!0,x=j}finally{try{v||null==C.return||C.return()}finally{if(y)throw x}}d.push(u.max_altitude_protected_wgs84_ft)}}catch(j){E=!0,f=j}finally{try{g||null==b.return||b.return()}finally{if(E)throw f}}var S=ee.Cartesian3.fromDegreesArrayHeights(d);n.push(l.a.createElement(te.c,{key:m,name:m},l.a.createElement(te.f,{name:m,extrudedHeight:u.min_altitude_protected_wgs84_ft,perPositionHeight:!0,hierarchy:S,material:ee.Color.ORANGE.withAlpha(.5),outlineColor:ee.Color.BLACK,outline:!0})))}}catch(j){o=!0,i=j}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n})))})),re=a(96),oe=a(370),ie=a(374),ce=a(373),se=a(369),ue=a(371),me=a(372),de=[{id:"vid",label:"vid",align:"left",format:function(e){return e.toLocaleString()}},{id:"latDeg",label:"latDeg",align:"right",format:function(e){return e.toLocaleString()}},{id:"lonDeg",label:"lonDeg",align:"right",format:function(e){return e.toLocaleString()}}],ge=Object(s.a)({root:{width:"100%"},container:{maxHeight:"80vh"}}),Ee=Object(h.a)((function(){var e=Object(n.useContext)(O),t=Object.values(e.positions),a=ge();return l.a.createElement("div",{className:"PositionsTable",style:{paddingLeft:e.drawerOpen?"250px":"80px"}},l.a.createElement(re.a,{className:a.root},l.a.createElement(se.a,{className:a.container},l.a.createElement(oe.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(ue.a,null,l.a.createElement(me.a,null,de.map((function(e){return l.a.createElement(ce.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),l.a.createElement(ie.a,null,t.map((function(e){return l.a.createElement(me.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.data.vid},de.map((function(t){var a=e.data[t.id];return l.a.createElement(ce.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))})))))))})),fe=[{id:"gufi",label:"GUFI",align:"left",format:function(e){return e.toLocaleString()}},{id:"state",label:"State",align:"right",format:function(e){return e.toLocaleString()}},{id:"uss_name",label:"USS Name",align:"right",format:function(e){return e.toLocaleString()}},{id:"actions",label:"Actions",align:"center"}],pe=Object(s.a)({root:{width:"100%"},container:{maxHeight:"80vh"}}),be=Object(h.a)((function(){var e=Object(n.useContext)(O),t=Object.values(e.operations),a=pe();return l.a.createElement("div",{className:"OperationsTable",style:{paddingLeft:e.drawerOpen?"250px":"80px"}},l.a.createElement(re.a,{className:a.root},l.a.createElement(se.a,{className:a.container},l.a.createElement(oe.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(ue.a,null,l.a.createElement(me.a,null,fe.map((function(e){return l.a.createElement(ce.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),l.a.createElement(ie.a,null,t.map((function(t){return l.a.createElement(me.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.gufi},l.a.createElement(ce.a,{align:"left"},t.gufi),l.a.createElement(ce.a,{align:"right"},t.state),l.a.createElement(ce.a,{align:"right"},"exige.xyz"),l.a.createElement(ce.a,{align:"right"},l.a.createElement(N.a,{size:"small",variant:"contained",style:{backgroundColor:"#1565c0",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold",marginRight:"10px"},endIcon:l.a.createElement(W.a,null,"remove_red_eye"),onClick:function(){var a;a=t.operation_volumes,e.map.cameraCenter.latitude=a[0].flight_geography.coordinates[0][0][1],e.map.cameraCenter.longitude=a[0].flight_geography.coordinates[0][0][0],console.log("Updated camera - ",e.map.cameraCenter.latitude,e.map.cameraCenter.longitude)}},"View"),l.a.createElement(N.a,{size:"small",variant:"contained",style:{backgroundColor:"#c2185b",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},onClick:function(){var a;a=t.gufi,"undefined"===typeof e.operations[a].exige_prefs&&(e.operations[a].exige_prefs={}),"undefined"===typeof e.operations[a].exige_prefs.hidden&&(e.operations[a].exige_prefs.hidden=!1),e.operations[a].exige_prefs.hidden=!e.operations[a].exige_prefs.hidden,console.log("Toggling Hide Op - ",e.operations[a].exige_prefs.hidden)}},"Hide")))})))))))})),he=(a(307),Object(h.a)((function(){return Object(n.useContext)(O).elementsToggle.mouseLocation?l.a.createElement(T,null):null}))),ve=Object(h.a)((function(){return Object(n.useContext)(O).elementsToggle.positionsTable?l.a.createElement(Ee,null):null})),ye=Object(h.a)((function(){return Object(n.useContext)(O).elementsToggle.operationsTable?l.a.createElement(be,null):null})),xe=function(){return l.a.createElement("div",{className:"Dashboard"},l.a.createElement(le,null),l.a.createElement(Q,null),l.a.createElement(ve,null),l.a.createElement(he,null),l.a.createElement(ye,null))},Oe=a(375),Ce=Object(s.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),we=Object(h.a)((function(){var e=Object(n.useState)(!1),t=Object(I.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(O),i=Object.values(o.positions),c=Ce();return l.a.createElement("div",{className:"DataTable"},l.a.createElement(f.a,{container:!0,spacing:3},l.a.createElement(f.a,{item:!0,xs:3},l.a.createElement(p.a,null,l.a.createElement(b.a,null,l.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"Number of Flights"),l.a.createElement(E.a,{variant:"h5",component:"h2"},i.length))),l.a.createElement("br",null),l.a.createElement(p.a,{style:{backgroundColor:"CONNECTED"===o.sio.status?"green":"red"}},l.a.createElement(b.a,null,l.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"Socket.IO Status"),l.a.createElement(E.a,{variant:"h5",component:"h2"},o.sio.status))),l.a.createElement("br",null),l.a.createElement(p.a,null,l.a.createElement(b.a,null,l.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"Options"),l.a.createElement(Oe.a,{control:l.a.createElement(B.a,{checked:a,onChange:function(){r(!a)},value:"showFlightDump"}),label:"Toggle Raw Data"})))),l.a.createElement(f.a,{item:!0,xs:9},l.a.createElement((function(){return a?l.a.createElement(p.a,null,l.a.createElement(b.a,null,l.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0},"Flight Dump"),l.a.createElement("div",{style:{display:"flex",overflowY:"scroll",height:"80vh"}},l.a.createElement("pre",null,JSON.stringify(i,null,2))))):l.a.createElement("div",null,i.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{id:e.data.vid,key:e.data.vid},l.a.createElement(b.a,null,l.a.createElement(E.a,{className:c.title,color:"textSecondary",gutterBottom:!0},e.data.vid),l.a.createElement(E.a,{variant:"body"},"latDeg=",e.data.latDeg," ",l.a.createElement("br",null),"lonDeg=",e.data.lonDeg," ",l.a.createElement("br",null),"latency=",new Date(e.metadata.brodcastTimestamp).getTime()-new Date(e.metadata.sourceTimestamp).getTime()," ms")))," ",l.a.createElement("br",null))})))}),null))))})),Se=function(){return l.a.createElement("div",{className:"TrafficInspector",style:{paddingTop:"30px"}},l.a.createElement(we,null))},je=a(390),ke=a(357),Me=a(179),Te=a.n(Me),Ne=Object(h.a)((function(){var e=Object(n.useContext)(O),t=function(t,a){"clickaway"!==a&&(e.snackbar.isOpen=!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(je.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:e.snackbar.isOpen,autoHideDuration:6e3,onClose:t,message:e.snackbar.message,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(ke.a,{size:"small","aria-label":"close",color:"inherit",onClick:t},l.a.createElement(Te.a,{fontSize:"small"})))}))})),Ie=a(8),_e=a(376),De=a(377),Le=a(312),Fe=a(378),Pe=a(379),We=a(361),Be=a(3),Ae=Object(s.a)((function(e){return{drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Ie.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),title:{textDecoration:"none",color:"white",fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic",padding:"15px"},dividerTitle:{textTransform:"uppercase",fontFamily:"IBM Plex Mono",fontWeight:"bold",color:"#bdbdbd"}}})),ze=Object(h.a)((function(){var e=Ae(),t=Object(n.useContext)(O),a=l.a.useState(!0),r=Object(I.a)(a,2),o=r[0],i=r[1];return l.a.createElement(_e.a,{variant:"permanent",classes:{paper:Object(Be.a)(e.drawerPaper,!o&&e.drawerPaperClose)},open:o},l.a.createElement(E.a,{component:d.b,to:"/",variant:"h4",className:e.title},o?"~/Exige":"~"),l.a.createElement(De.a,null),l.a.createElement(We.a,null,l.a.createElement(Le.a,null,l.a.createElement("div",{className:e.dividerTitle}," ",o?"Views":"")),l.a.createElement(Le.a,{button:!0,component:d.b,to:"/"},l.a.createElement(Fe.a,null,l.a.createElement(W.a,null,"public")),l.a.createElement(Pe.a,null,"Dashboard"))),l.a.createElement(De.a,null),l.a.createElement(We.a,null,l.a.createElement(Le.a,null,l.a.createElement("div",{className:e.dividerTitle},o?"Inspector":"")),l.a.createElement(Le.a,{button:!0,component:d.b,to:"/inspector/traffic"},l.a.createElement(Fe.a,null,l.a.createElement(W.a,null,"airplanemode_active")),l.a.createElement(Pe.a,null,"Traffic")),l.a.createElement(Le.a,{button:!0,component:d.b,to:"/inspector/nuss"},l.a.createElement(Fe.a,null,l.a.createElement(W.a,null,"border_all")),l.a.createElement(Pe.a,null,"NUSS"))),l.a.createElement(De.a,null),l.a.createElement(We.a,null,l.a.createElement(Le.a,null,l.a.createElement("div",{className:e.dividerTitle},o?"Cool Stuff":"")),l.a.createElement(Le.a,{button:!0,component:d.b,to:"/debug"},l.a.createElement(Fe.a,null,l.a.createElement(W.a,null,"settings")),l.a.createElement(Pe.a,null,"Debug")),l.a.createElement(Le.a,{button:!0,component:d.b,to:"/about"},l.a.createElement(Fe.a,null,l.a.createElement(W.a,null,"sports_motorsports")),l.a.createElement(Pe.a,null,"About Exige"))),l.a.createElement(De.a,null),l.a.createElement(Le.a,{button:!0,onClick:function(){i(!o),t.drawerOpen=!o}},l.a.createElement(Fe.a,null,l.a.createElement(W.a,null,o?"chevron_left":"chevron_right")),l.a.createElement(Pe.a,null,"Toggle Drawer")))})),Re=a(382),Ge=a(2),He=a(380),Ue=a(388),Je=a(381),Ve=a(386);function qe(e,t){var a=l.a.useState((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),n=Object(I.a)(a,2),r=n[0],o=n[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;o(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}function Ze(e){var t=Object(n.useState)([]),a=Object(I.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(null),c=Object(I.a)(i,2),s=(c[0],c[1]),u=Object(n.useState)(!1),m=Object(I.a)(u,2),d=(m[0],m[1]),g=qe("creds",{exige_username:"",exige_password:"",exige_uss_url:""}),E=Object(I.a)(g,2),f=E[0],h=(E[1],e.operation),v=function(){console.log("Loading Messages for GUFI - ",h.gufi),d(!0);var e=f.exige_uss_url+"/nuss/operator/messages/"+h.gufi;G()({method:"GET",url:e,headers:{"Acces-Control-Allow-Origin":"*",Authorization:"Basic "+btoa(f.exige_username+":"+f.exige_password)}}).then((function(e){d(!1),console.log("Loaded Messages - ",e.data.length),o(e.data)})).catch((function(e){d(!1),console.log("Caught Error when getting Messages!",e);var t={message:e.message,status:e.request.status};s(t)}))};return Object(n.useEffect)((function(){v()}),[]),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement(N.a,{variant:"contained",style:{backgroundColor:"#1565c0",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},endIcon:l.a.createElement(W.a,null,"refresh"),onClick:v},"Refresh Messages"),l.a.createElement("br",null)," ",l.a.createElement("br",null)),r.map((function(e){return l.a.createElement("div",{key:e.message_id},l.a.createElement(p.a,{variant:"outlined"},l.a.createElement(b.a,null,l.a.createElement("pre",null,JSON.stringify(e,null,4)))))})))}var Ye=function(e,t){var a=e.operation,n=0;try{n=a.operation_volumes.length}catch(r){}return e.showRaw?l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("pre",null,JSON.stringify(a,null,4))):l.a.createElement(se.a,{component:re.a},l.a.createElement(oe.a,{"aria-label":"simple table"},l.a.createElement(ue.a,null,l.a.createElement(me.a,null,l.a.createElement(ce.a,{align:"right"},"Type"),l.a.createElement(ce.a,{align:"left"},"Value"))),l.a.createElement(ie.a,null,l.a.createElement(me.a,null,l.a.createElement(ce.a,{align:"right",component:"th",scope:"row"},"GUFI"),l.a.createElement(ce.a,{align:"left"},a.gufi)),l.a.createElement(me.a,null,l.a.createElement(ce.a,{align:"right",component:"th",scope:"row"},"State"),l.a.createElement(ce.a,{align:"left"},a.state)),l.a.createElement(me.a,null,l.a.createElement(ce.a,{align:"right",component:"th",scope:"row"},"Priority OP"),l.a.createElement(ce.a,{align:"left"},JSON.stringify(a.priority_op))),l.a.createElement(me.a,null,l.a.createElement(ce.a,{align:"right",component:"th",scope:"row"},"Number of Operation Volumes"),l.a.createElement(ce.a,{align:"left"},JSON.stringify(n))))))};function Ke(e){var t=Object(n.useState)(!1),a=Object(I.a)(t,2),r=a[0],o=a[1],i=e.operation;return l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement(N.a,{variant:"contained",style:{backgroundColor:"#1565c0",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},endIcon:l.a.createElement(W.a,null,"refresh"),onClick:function(){o(!r)}},"Toggle Raw"),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(Ye,{showRaw:r,operation:i})))}function Xe(e){var t=e.children,a=e.value,n=e.index,r=Object(Ge.a)(e,["children","value","index"]);return l.a.createElement(E.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&l.a.createElement(Ve.a,{p:3},t))}function $e(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Qe=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},table:{minWidth:650}}}));function et(e){var t=Qe(),a=l.a.useState(0),n=Object(I.a)(a,2),r=n[0],o=n[1],i=e.operation;return l.a.createElement("div",{className:t.root},l.a.createElement(He.a,{position:"static"},l.a.createElement(Ue.a,{value:r,onChange:function(e,t){o(t)},"aria-label":"simple tabs example"},l.a.createElement(Je.a,Object.assign({label:"Operation"},$e(0))),l.a.createElement(Je.a,Object.assign({label:"Messages"},$e(1))),l.a.createElement(Je.a,Object.assign({label:"Positions"},$e(2))))),l.a.createElement(Xe,{value:r,index:0},l.a.createElement(Ke,{operation:i})),l.a.createElement(Xe,{value:r,index:1},l.a.createElement(Ze,{operation:i})),l.a.createElement(Xe,{value:r,index:2},"Item Three"))}var tt=[{id:"gufi",label:"GUFI",align:"left",format:function(e){return e.toLocaleString()}},{id:"flight_number",label:"Flight Number",align:"left",format:function(e){return e.toLocaleString()}},{id:"state",label:"State",align:"right",format:function(e){return e.toLocaleString()}},{id:"uss_name",label:"USS Name",align:"right",format:function(e){return e.toLocaleString()}}],at=l.a.forwardRef((function(e,t){return l.a.createElement(P.a,Object.assign({direction:"up",ref:t},e))})),nt=Object(s.a)({root:{width:"100%"},container:{maxHeight:"80vh"}}),lt=Object(h.a)((function(e){var t=e.operations,a=Object(n.useState)(!1),r=Object(I.a)(a,2),o=r[0],i=r[1],c=Object(n.useState)({}),s=Object(I.a)(c,2),u=s[0],m=s[1],d=Object(n.useContext)(O),g=function(){i(!1)},E=t,f=nt();return l.a.createElement("div",{className:"NussOperationsTable"},l.a.createElement(re.a,{className:f.root},l.a.createElement(se.a,{className:f.container},l.a.createElement(oe.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(ue.a,null,l.a.createElement(me.a,null,tt.map((function(e){return l.a.createElement(ce.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),l.a.createElement(ie.a,null,E.map((function(e){return l.a.createElement(me.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.gufi},tt.map((function(t){var a=e[t.id];return null==a&&(a="exige.xyz"),l.a.createElement(ce.a,{key:t.id,align:t.align,onClick:function(){var t;t=e,i(!0),m(t)}},t.format&&"number"===typeof a?t.format(a):a)})))})))))),l.a.createElement(_.a,{open:o,TransitionComponent:at,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:g},l.a.createElement(F.a,null,"Operation Details - "," ",u.gufi),l.a.createElement(L.a,null,l.a.createElement(et,{operation:u})),l.a.createElement(D.a,null,l.a.createElement(N.a,{onClick:function(){console.log("Loading to Map",u.gufi),d.operations[u.gufi]=u,d.snackbar.message="Drawing Operation on Map - "+u.gufi,d.snackbar.isOpen=!0},variant:"contained",style:{backgroundColor:"#e65100",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"}},"Draw on Map"),l.a.createElement(N.a,{onClick:g,variant:"contained",style:{backgroundColor:"#f50057",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"}},"Close"))))})),rt=l.a.forwardRef((function(e,t){return l.a.createElement(P.a,Object.assign({direction:"up",ref:t},e))})),ot=function(e){var t=e.setCreds,a=Object(n.useState)(!1),r=Object(I.a)(a,2),o=r[0],i=r[1],c=l.a.useState(""),s=Object(I.a)(c,2),u=s[0],m=s[1],d=l.a.useState(""),g=Object(I.a)(d,2),E=g[0],f=g[1],p=l.a.useState("http://localhost:8786"),b=Object(I.a)(p,2),h=b[0],v=b[1],y=function(){i(!1)},x=function(e){e.preventDefault(),u&&E&&h&&(t({exige_username:u,exige_password:E,exige_uss_url:h}),y())};return l.a.createElement("div",null,l.a.createElement(N.a,{variant:"contained",style:{marginLeft:"10px",backgroundColor:"#2e7d32",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},onClick:function(){i(!0)},endIcon:l.a.createElement(W.a,null,"sentiment_satisfied_alt")},"Set Operator Credentials"),l.a.createElement(_.a,{open:o,TransitionComponent:rt,keepMounted:!0,onClose:y,"aria-labelledby":"alert-dialog-slide-title",maxWidth:"xs",fullWidth:!0,"aria-describedby":"alert-dialog-slide-description"},l.a.createElement(F.a,{id:"alert-dialog-slide-title"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"Set Operator Credentials")),l.a.createElement(L.a,null,l.a.createElement("form",{onSubmit:x},l.a.createElement(Z.a,{variant:"outlined",autoFocus:!0,margin:"dense",id:"username",label:"Username",type:"text",fullWidth:!0,value:u,className:"input",onChange:function(e){return m(e.target.value)}}),l.a.createElement(Z.a,{variant:"outlined",margin:"dense",id:"password",label:"Password",className:"input",type:"password",fullWidth:!0,value:E,onChange:function(e){return f(e.target.value)}}),l.a.createElement(Z.a,{variant:"outlined",margin:"dense",id:"url",label:"USS URL",className:"input",type:"text",fullWidth:!0,value:h,onChange:function(e){return v(e.target.value)}})),l.a.createElement("br",null),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flexGrow:"1"}},l.a.createElement(N.a,{variant:"contained",color:"primary",size:"large",onClick:x},"Save")),l.a.createElement(N.a,{variant:"contained",size:"large",onClick:y},"Close")))))},it=function(e){return null===e.error?null:l.a.createElement("div",null,l.a.createElement(p.a,{style:{backgroundColor:"red"}},l.a.createElement(b.a,null,l.a.createElement("h2",null,"Caught Error - ",e.error.message),l.a.createElement("h3",null,"Error Status - ",e.error.status))),l.a.createElement("br",null))},ct=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(I.a)(o,2),c=i[0],s=i[1],u=qe("creds",{exige_username:"",exige_password:"",exige_uss_url:""}),m=Object(I.a)(u,2),d=m[0],g=m[1],f=Object(n.useState)(0),p=Object(I.a)(f,2),b=p[0],h=p[1],v=Object(n.useState)(null),y=Object(I.a)(v,2),x=y[0],O=y[1],C=function(e){var t=a,n=b;e&&(console.log("Clearing previous Operations"),t=[],n=0),s(!0);var l=d.exige_uss_url+"/nuss/operator/operations/?offset="+n;G()({method:"GET",url:l,headers:{"Acces-Control-Allow-Origin":"*",Authorization:"Basic "+btoa(d.exige_username+":"+d.exige_password)}}).then((function(e){s(!1),console.log("Loaded Operations - ",e.data.length),r(n>0?t.concat(e.data):e.data)})).catch((function(e){s(!1),console.log("Caught Error when getting Operations!",e);var t={message:e.message,status:e.request.status};O(t)}))};return Object(n.useEffect)((function(){C(!1)}),[d.exige_username,d.exige_password,d.exige_uss_url,b]),""!==d.exige_username?l.a.createElement("div",{className:"NussInspector",style:{paddingTop:"30px"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flexGrow:"1"}},l.a.createElement(E.a,{variant:"h4",style:{fontFamily:"IBM Plex Mono",fontStyle:"italic",fontWeight:"bold"}},"NUSS > Operations")),l.a.createElement("div",null),l.a.createElement(N.a,{variant:"contained",style:{backgroundColor:"#1565c0",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},endIcon:l.a.createElement(W.a,null,"refresh"),onClick:function(){C(!0)}},"Refresh"),l.a.createElement("div",null,l.a.createElement(ot,{setCreds:g}))),l.a.createElement("br",null),!0===c?l.a.createElement("div",{className:"isNussLoading"},l.a.createElement(Re.a,{color:"secondary"})):null,l.a.createElement("br",null),l.a.createElement(it,{error:x}),l.a.createElement(lt,{operations:a}),l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(N.a,{variant:"contained",style:{backgroundColor:"#f50057",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},endIcon:l.a.createElement(W.a,null,"add"),onClick:function(){h(b+10)}},"Load More"))):l.a.createElement("div",{className:"NussInspector",style:{paddingTop:"30px",paddingLeft:"50px"}},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flexGrow:"1"}},l.a.createElement(E.a,{variant:"h4",style:{fontFamily:"IBM Plex Mono",fontStyle:"italic",fontWeight:"bold"}},"Operations"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement(E.a,{variant:"h5",style:{fontFamily:"IBM Plex Mono"}},"Please define NUSS Credentials!")," ",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(ot,{setCreds:g})))};var st=function(){var e=u();return l.a.createElement("div",{className:e.root},l.a.createElement(i.a,null),l.a.createElement(M,null),l.a.createElement(d.a,{basename:"/exige-react"},l.a.createElement(ze,null),l.a.createElement("main",{className:e.content},l.a.createElement(g.c,null,l.a.createElement(g.a,{path:"/debug"},l.a.createElement(m.a,{component:"main",className:e.main},l.a.createElement(w,null))),l.a.createElement(g.a,{path:"/about"},l.a.createElement(m.a,{component:"main",className:e.main},l.a.createElement(S,null))),l.a.createElement(g.a,{path:"/inspector/traffic"},l.a.createElement(m.a,{component:"main",className:e.main},l.a.createElement(Se,null))),l.a.createElement(g.a,{path:"/inspector/nuss"},l.a.createElement(m.a,{component:"main",className:e.main},l.a.createElement(ct,null))),l.a.createElement(g.a,{path:"/"},l.a.createElement(xe,null))))),l.a.createElement(Ne,null))},ut=a(181),mt=Object(ut.a)({palette:{type:"dark"}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(c.a,{theme:mt},l.a.createElement(i.a,null),l.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t){e.exports=Cesium}},[[203,1,2]]]);
//# sourceMappingURL=main.f5b0c3c4.chunk.js.map