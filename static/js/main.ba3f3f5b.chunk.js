(this["webpackJsonpexige-react"]=this["webpackJsonpexige-react"]||[]).push([[0],{161:function(e,t,a){e.exports=a(255)},166:function(e,t,a){},243:function(e,t){},252:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),i=a.n(o),r=a(326),c=a(328),u=(a(166),a(303)),s=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8)},footer:{padding:e.spacing(2,2),marginTop:"auto",backgroundColor:"dark"===e.palette.type?e.palette.grey[800]:e.palette.grey[200]}}})),m=a(327),d=a(58),g=a(36),E=a(306),b=a(308),f=a(256),p=a(257),v=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textDecoration:"none",color:"white",fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}}}));var h=function(){var e=v();return l.a.createElement(E.a,{style:{background:"#212121"},position:"static"},l.a.createElement(b.a,null,l.a.createElement(f.a,{component:d.b,to:"/",variant:"h6",className:e.title},"~/Exige Reborn"),l.a.createElement(p.a,{component:d.b,to:"/about",color:"inherit"},"Debug")))},O=a(309),y=a(310),x=a(311),j=a(13),C=a(32),T=a(7),k=function e(){Object(C.a)(this,e),this.sioStatus="DISCONNECTED",this.positions={},this.mouseLocation={},this.snackbar={message:null,isOpen:!1,type:null},this.elementsToggle={mouseLocation:!0,positionsTable:!1},this.gridTiles={enabled:!1,tilesData:null,zoomLevel:10}};Object(T.i)(k,{sioStatus:T.n,positions:T.n,mouseLocation:T.n,gridZoomLevel:T.n,snackbar:T.n,elementsToggle:T.n});var S=Object(n.createContext)(new k),L=Object(j.a)((function(){var e=Object(n.useContext)(S);return l.a.createElement("pre",null,JSON.stringify(e,null,2))}));var M=function(){return l.a.createElement(O.a,{container:!0,spacing:3},l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(y.a,null,l.a.createElement(x.a,null,l.a.createElement(f.a,{variant:"h5"},"About"),l.a.createElement("br",null),l.a.createElement(f.a,{variant:"body1"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",l.a.createElement("br",null),l.a.createElement("br",null),"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")))),l.a.createElement(O.a,{item:!0,xs:12,sm:6},l.a.createElement(y.a,{style:{maxHeight:"90vh"}},l.a.createElement(x.a,null,l.a.createElement(f.a,{variant:"h5"},"Store Dump"),l.a.createElement("br",null),l.a.createElement(L,null)))))},I=a(52),w=Object(j.a)((function(){var e=Object(n.useContext)(S);return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.Event,{event:"connect",handler:function(){console.log("Connected!"),e.sioStatus="CONNECTED"}}),l.a.createElement(I.Event,{event:"disconnect",handler:function(){console.log("Disconnect!"),e.sioStatus="DISCONNECTED"}}),l.a.createElement(I.Event,{event:"outgoing data",handler:function(t){console.log("Data! - ",t),e.positions[t.vehicleId]=t}}))})),N=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.Socket,{uri:"http://localhost:4001",options:{transports:["websocket"]}},l.a.createElement(w,null)))},z=Object(j.a)((function(){var e=Object(n.useContext)(S);return l.a.createElement("div",{className:"MouseLocationPanel"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"Mouse Location"),l.a.createElement("pre",{style:{fontFamily:"IBM Plex Mono",fontSize:"11px"}},JSON.stringify(function(){var t=e.mouseLocation,a=e.gridTiles.zoomLevel,n=Math.PI*(t.lat/180),l=Math.pow(2,a),o=Math.trunc((t.lng+180)/360*l),i=Math.trunc((1-Math.log(Math.tan(n)+1/Math.cos(n))/Math.PI)/2*l);return t.x=o,t.y=i,t.zoomLevel=parseInt(a),t}(),null,2)))})),D=a(21),P=a(332),W=a(318),B=a(317),F=a(316),J=a(314),G=a(315),q=a(334),H=a(329),R=a(333),A=Object(j.a)((function(){var e=Object(n.useContext)(S),t=l.a.useState(e.gridTiles.enabled),a=Object(D.a)(t,2),o=a[0],i=a[1];return l.a.createElement(q.a,{checked:o,value:"gridTileSwitch",onChange:function(){e.gridTiles.enabled=!e.gridTiles.enabled,i(e.gridTiles.enabled)}})})),Y=Object(j.a)((function(){var e=Object(n.useContext)(S),t=l.a.useState(e.gridTiles.zoomLevel),a=Object(D.a)(t,2),o=a[0],i=a[1];return l.a.createElement(H.a,{value:o,onChange:function(t){e.gridTiles.zoomLevel=t.target.value,i(e.gridTiles.zoomLevel)}},l.a.createElement(R.a,{value:10},"10"),l.a.createElement(R.a,{value:11},"11"),l.a.createElement(R.a,{value:12},"12"),l.a.createElement(R.a,{value:9},"9"))})),Z=function(){return l.a.createElement("div",null,l.a.createElement(O.a,{container:!0,spacing:3,direction:"row",justify:"space-around",alignItems:"center"},l.a.createElement(O.a,{item:!0},l.a.createElement(f.a,{variant:"body1"},"Show Grid Tiles")),l.a.createElement(O.a,{item:!0,xs:3},l.a.createElement(A,null))),l.a.createElement(O.a,{container:!0,spacing:3,direction:"row",justify:"space-around",alignItems:"center"},l.a.createElement(O.a,{item:!0},l.a.createElement(f.a,{variant:"body1"},"Grid Tile Zoom Level")),l.a.createElement(O.a,{item:!0,xs:3},l.a.createElement(Y,null))))},X=l.a.forwardRef((function(e,t){return l.a.createElement(J.a,Object.assign({direction:"up",ref:t},e))}));var Q=function(){var e=l.a.useState(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],o=function(){n(!1)};return l.a.createElement("div",null,l.a.createElement(p.a,{variant:"contained",style:{backgroundColor:"#33b5e5"},onClick:function(){n(!0)},endIcon:l.a.createElement(G.a,null,"settings")},"Options"),l.a.createElement(P.a,{open:a,TransitionComponent:X,keepMounted:!0,onClose:o,"aria-labelledby":"alert-dialog-slide-title",maxWidth:"sm",fullWidth:!0,"aria-describedby":"alert-dialog-slide-description"},l.a.createElement(F.a,{id:"alert-dialog-slide-title"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"~/Exige Options")),l.a.createElement(B.a,null,l.a.createElement(Z,null)),l.a.createElement(W.a,null,l.a.createElement(p.a,{onClick:o,style:{color:"#33b5e5"}},"Close"))))},U=a(319),$=Object(j.a)((function(){var e=Object(n.useContext)(S),t=function(t){e.elementsToggle[t]=!e.elementsToggle[t]};return l.a.createElement("div",{style:{marginLeft:"auto"}},l.a.createElement(U.a,{color:"secondary","aria-label":"outlined primary button group"},l.a.createElement(p.a,{variant:e.elementsToggle.mouseLocation?"contained":"outlined",onClick:function(){return t("mouseLocation")}},"Mouse Location"),l.a.createElement(p.a,{variant:e.elementsToggle.positionsTable?"contained":"outlined",onClick:function(){return t("positionsTable")}},"Positions Table")))})),K=Object(j.a)((function(){var e=Object(n.useContext)(S);return l.a.createElement("div",{className:"OptionsBar"},l.a.createElement(Q,null),l.a.createElement($,null),l.a.createElement("div",{className:"leftStatus",style:{marginLeft:"auto",textTransform:"none"}},l.a.createElement(p.a,{variant:"contained",style:{textTransform:"none",fontFamily:"IBM Plex Mono",backgroundColor:"CONNECTED"===e.sioStatus?"green":"red",fontWeight:"bold"}},"S.IO: ",e.sioStatus)))})),V=a(147),_=a(80),ee=Object(_.c)({accessToken:"pk.eyJ1IjoiYXJraXRzIiwiYSI6ImNqc3Bud29jMjAzcWc0OXJ6Y3YzOHltaTcifQ.EMMG5GSbT0T-lD8RGJgnAA"}),te=Object(j.a)((function(){var e=Object(n.useContext)(S),t=Object(n.useState)({longitude:-122.43438720703125,latitude:37.77722770873696,zoom:9}),a=Object(D.a)(t,2),o=a[0],i=a[1],r=Object.values(e.positions),c=function(e){i(Object(V.a)({},o,{longitude:e.getCenter().lng,latitude:e.getCenter().lat,zoom:e.getZoom()}))};return l.a.createElement("div",{className:"Map"},l.a.createElement(ee,{style:"mapbox://styles/mapbox/dark-v9",zoom:[o.zoom],center:[o.longitude,o.latitude],containerStyle:{height:"calc(100vh - 70px)",width:"100vw"},onMouseMove:function(t,a){e.mouseLocation.lat=a.lngLat.lat,e.mouseLocation.lng=a.lngLat.lng},onClick:function(t,a){var n={lat:a.lngLat.lat,lng:a.lngLat.lng},l=JSON.stringify(n);console.log("Copied to clipboard - ",l),navigator.clipboard.writeText(l),e.snackbar.message="Copied to co-ordinates to clipboard.",e.snackbar.isOpen=!0},onMoveEnd:c,onZoomEnd:c,onPitchEnd:c},">",r.map((function(e){return l.a.createElement(_.b,{type:"symbol",key:e.vehicleId,id:e.vehicleId,layout:{"icon-image":"airport-15"}},l.a.createElement(_.a,{id:e.vehicleId,coordinates:[e.longitude,e.latitude]}))}))))})),ae=a(151),ne=a(321),le=a(325),oe=a(324),ie=a(320),re=a(322),ce=a(323),ue=[{id:"vehicleId",label:"vehicleId",align:"left",format:function(e){return e.toLocaleString()}},{id:"latitude",label:"latitude",align:"right",format:function(e){return e.toLocaleString()}},{id:"longitude",label:"longitude",align:"right",format:function(e){return e.toLocaleString()}}],se=Object(u.a)({root:{width:"100%"},container:{maxHeight:"80vh"}}),me=Object(j.a)((function(){var e=Object(n.useContext)(S),t=Object.values(e.positions),a=se();return l.a.createElement("div",{className:"PositionsTable"},l.a.createElement(ae.a,{className:a.root},l.a.createElement(ie.a,{className:a.container},l.a.createElement(ne.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(re.a,null,l.a.createElement(ce.a,null,ue.map((function(e){return l.a.createElement(oe.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),l.a.createElement(le.a,null,t.map((function(e){return l.a.createElement(ce.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},ue.map((function(t){var a=e[t.id];return l.a.createElement(oe.a,{key:t.id,align:t.align},t.format&&"number"===typeof a?t.format(a):a)})))})))))))})),de=(a(252),Object(j.a)((function(){return Object(n.useContext)(S).elementsToggle.mouseLocation?l.a.createElement(z,null):null}))),ge=Object(j.a)((function(){return Object(n.useContext)(S).elementsToggle.positionsTable?l.a.createElement(me,null):null})),Ee=function(){return l.a.createElement("div",{className:"Dashboard"},l.a.createElement(te,null),l.a.createElement(de,null),l.a.createElement(ge,null),l.a.createElement(K,null))},be=a(331),fe=a(312),pe=a(148),ve=a.n(pe),he=Object(j.a)((function(){var e=Object(n.useContext)(S),t=function(t,a){"clickaway"!==a&&(e.snackbar.isOpen=!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(be.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:e.snackbar.isOpen,autoHideDuration:6e3,onClose:t,message:e.snackbar.message,action:l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,{size:"small","aria-label":"close",color:"inherit",onClick:t},l.a.createElement(ve.a,{fontSize:"small"})))}))}));var Oe=function(){var e=s();return l.a.createElement("div",{className:e.root},l.a.createElement(N,null),l.a.createElement(r.a,null),l.a.createElement(d.a,{basename:"/exige-react"},l.a.createElement(h,null),l.a.createElement(g.c,null,l.a.createElement(g.a,{path:"/about"},l.a.createElement(m.a,{component:"main",className:e.main},l.a.createElement(M,null))),l.a.createElement(g.a,{path:"/"},l.a.createElement(Ee,null)))),l.a.createElement(he,null))},ye=a(149),xe=Object(ye.a)({palette:{type:"dark"}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(c.a,{theme:xe},l.a.createElement(r.a,null),l.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[161,1,2]]]);
//# sourceMappingURL=main.ba3f3f5b.chunk.js.map