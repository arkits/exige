(this.webpackJsonpexige=this.webpackJsonpexige||[]).push([[0],{190:function(e,t,a){e.exports=a(266)},195:function(e,t,a){},262:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),o=a.n(r);a(195),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(319),c=a(318),u=a(80),s=a(20),d=a(308),m=a(309),g=a(66),f=a(298),h=a(42),v=a(300),p=a(302),b=a(303),E=a(304),y=a(305),x=a(306),w=a(307),C=a(158),O=a.n(C),j=a(160),M=a.n(j),k=a(159),I=a.n(k),N=a(161),S=a.n(N),L=Object(f.a)({drawer:{width:250}});var T=function(){var e=L(),t=l.a.useState(!1),a=Object(h.a)(t,2),n=a[0],r=a[1],o=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&r(e)}};return l.a.createElement("div",null,l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",onClick:o(!0),edge:"start",style:{color:"white"}},l.a.createElement(O.a,null)),l.a.createElement(p.a,{anchor:"left",open:n,onClose:o(!1)},l.a.createElement("div",{role:"presentation",onClick:o(!1),onKeyDown:o(!1)},l.a.createElement("div",{className:e.drawer}),l.a.createElement("div",{style:{display:"flex",width:"100%",height:"100vh",flexDirection:"column"}},l.a.createElement("div",{style:{flexGrow:"1"}},l.a.createElement("center",null,l.a.createElement(g.a,{variant:"h4",style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic",marginTop:"20px",marginBottom:"20px"}},"~/Exige")),l.a.createElement(b.a,null),l.a.createElement(E.a,null,l.a.createElement(y.a,{button:!0,component:u.b,to:"/"},l.a.createElement(x.a,null,l.a.createElement(I.a,null)),l.a.createElement(w.a,{primary:"Dashboard"})),l.a.createElement(y.a,{button:!0,component:u.b,to:"/inspector"},l.a.createElement(x.a,null,l.a.createElement(M.a,null)),l.a.createElement(w.a,{primary:"Inspector"}))),l.a.createElement(b.a,null)),l.a.createElement("div",{style:{marginBottom:"20px"}},l.a.createElement("center",null,l.a.createElement("a",{target:"_blank",href:"https://github.com/arkits/exige"},l.a.createElement(v.a,{color:"white","aria-label":"upload picture",component:"span"},l.a.createElement(S.a,null)))))))," ")))},B=Object(f.a)((function(e){return{titleText:{display:"flex",flexGrow:"1",fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"},subtitleText:{fontFamily:"IBM Plex Mono"},appBar:{zIndex:e.zIndex.drawer+1}}}));var D=function(){var e=B();return l.a.createElement("div",null,l.a.createElement(d.a,{position:"fixed",className:e.appBar,color:"primary"},l.a.createElement(m.a,null,l.a.createElement(T,null),l.a.createElement(g.a,{className:e.titleText,variant:"h5",noWrap:!0},"~/Exige"))))},R=a(130),W=a(4),F=a(83),A=a(48),_=a(99),P=a(11),z=function e(){Object(_.a)(this,e),this.sio={status:"DISCONNECTED",isEnabled:!1},this.operations={"cc45e730-f464-465b-803f-30ca28751e04":{gufi:"cc45e730-f464-465b-803f-30ca28751e04",state:"ACTIVE",owner:"exige.xyz",exige:{hidden:!1,color:W.Color.GREEN.withAlpha(.5)},volumes:[{volume:{outline_polygon:{vertices:[{lng:-122.50682830810545,lat:37.77587088725018},{lng:-122.398681640625,lat:37.8065289741725},{lng:-122.35954284667967,lat:37.71859032558816},{lng:-122.48794555664061,lat:37.72320698914131}]},altitude_lower:{value:200,reference:"W84",units:"M"},altitude_upper:{value:500,reference:"W84",units:"M"}}}]},"921dceae-7ada-421b-a810-8ff193a144b5":{gufi:"921dceae-7ada-421b-a810-8ff193a144b5",state:"CONTINGENT",owner:"exige.xyz",exige:{hidden:!1,color:W.Color.RED.withAlpha(.5)},volumes:[{volume:{outline_polygon:{vertices:[{lng:-122.58613586425781,lat:37.62565281710451},{lng:-122.48176574707031,lat:37.623205521597406},{lng:-122.4872589111328,lat:37.59274354910639},{lng:-122.58991241455077,lat:37.601448242831204}]},altitude_lower:{value:200,reference:"W84",units:"M"},altitude_upper:{value:500,reference:"W84",units:"M"}}},{volume:{outline_polygon:{vertices:[{lng:-122.47970581054688,lat:37.612055711412815},{lng:-122.3818588256836,lat:37.63489742852906},{lng:-122.37018585205077,lat:37.60308025953392},{lng:-122.48451232910155,lat:37.57859625002284}]},altitude_lower:{value:200,reference:"W84",units:"M"},altitude_upper:{value:500,reference:"W84",units:"M"}}}]}},this.positions={},this.mouseLocation={},this.snackbar={message:null,isOpen:!1,type:null},this.elementsToggle={mouseLocation:!0,operationsTable:!0,positionsTable:!1},this.map={cameraCenter:{latitude:37.69,longitude:-122.44,altitude:5e4}},this.drawerOpen=!0};Object(P.decorate)(z,{sio:P.observable,operations:P.observable,positions:P.observable,mouseLocation:P.observable,snackbar:P.observable,elementsToggle:P.observable,map:P.observable});var J=Object(n.createContext)(new z),H=Object(A.a)((function(){var e=Object(n.useContext)(J),t=Object(n.useRef)(),a=e.map.cameraCenter,r=W.Cartesian3.fromDegrees(a.longitude,a.latitude,a.altitude);Object(n.useEffect)((function(){console.log("cameraDest got updated!",r)}),[r]);W.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzMDJkNjJkYy1iMTAxLTQ5NjktYThmNC0zN2YwNjUxYjBkYjUiLCJpZCI6MTk1NzQsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NzU4NDc3OTJ9.YIZUsKDifeCV1hoT4N1kNoASGQzM3yJoox_GLxdD2lo";var o=Object.values(e.operations);return l.a.createElement("div",null,l.a.createElement(F.d,{animation:!1,timeline:!1,fullscreenButton:!1,style:{height:"93vh"},ref:function(e){t=e?e.cesiumElement:null,null!=e&&(t.scene.debugShowFramesPerSecond=!0,t.scene.requestRenderMode=!0)},onMouseMove:function(a){var n=function(e){var a=0,n=0;if(!t)return{longitudeString:a,latitudeString:n};if(!t.scene)return{longitudeString:a,latitudeString:n};var l=t.scene.globe.ellipsoid,r=t.scene.camera.pickEllipsoid(e,l);if(!r)return{longitudeString:a,latitudeString:n};var o=l.cartesianToCartographic(r);return{longitudeString:a=W.Math.toDegrees(o.longitude).toFixed(15),latitudeString:n=W.Math.toDegrees(o.latitude).toFixed(15)}}(a.endPosition),l=n.longitudeString,r=n.latitudeString;e.mouseLocation.lng=parseFloat(l),e.mouseLocation.lat=parseFloat(r)}},l.a.createElement(F.a,{destination:r,duration:0}),o.map((function(e){var t;if(null===e||void 0===e||null===(t=e.exige)||void 0===t?void 0:t.hidden)return null;var a,n=[],r=1,o=Object(R.a)(e.volumes);try{for(o.s();!(a=o.n()).done;){var i=a.value,c=e.gufi+"_"+r;r++;var u,s=[],d=i.volume,m=d.outline_polygon,g=Object(R.a)(m.vertices);try{for(g.s();!(u=g.n()).done;){var f=u.value;s.push(f.lng),s.push(f.lat),s.push(d.altitude_upper.value)}}catch(v){g.e(v)}finally{g.f()}var h=W.Cartesian3.fromDegreesArrayHeights(s);n.push(l.a.createElement(F.b,{key:c,name:c},l.a.createElement(F.c,{name:c,extrudedHeight:d.altitude_lower.value,perPositionHeight:!0,hierarchy:h,material:e.exige.color,outlineColor:W.Color.BLACK,outline:!0})))}}catch(v){o.e(v)}finally{o.f()}return n}))))})),G=a(310),K=a(316),U=a(311),Y=a(315),Q=a(313),V=a(314),q=a(312);function X(){var e=l.a.useState(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{variant:"contained",onClick:function(){n(!0)},style:{backgroundColor:"#ff5722",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold",fontStyle:"italic",textTransform:"capitalize"}},"~/Exige by ArKits"),l.a.createElement(U.a,{fullWidth:!0,maxWidth:"sm",open:a,onClose:r,"aria-labelledby":"about-exige-dialog"},l.a.createElement(q.a,null,l.a.createElement(g.a,{variant:"h5",style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"About ~/Exige")),l.a.createElement(Q.a,null,l.a.createElement(V.a,null,"Exige is a proof-of-concept traffic visualizer for UAM / UTM data.")),l.a.createElement(Y.a,null,l.a.createElement(G.a,{onClick:r,style:{color:"white"}},"Close"))))}var Z=a(82),$=a(268),ee=a(131),te=a(322),ae=a(317),ne=a(321),le=a(320);function re(e){var t,a,n,l,r={},o=null===e||void 0===e||null===(t=e.reference)||void 0===t?void 0:t.id,i=null===e||void 0===e||null===(a=e.reference)||void 0===a?void 0:a.owner;i=i.toLowerCase();var c=null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.state;c=c.toUpperCase();var u=null===e||void 0===e||null===(l=e.details)||void 0===l?void 0:l.volumes;return r.gufi=o,r.owner=i,r.state=c,r.volumes=u,r.exige={hidden:!1,color:W.Color.BLUE.withAlpha(.5)},r}var oe=Object(A.a)((function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],r=t[1],o=Object(n.useContext)(J);return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{variant:"h6"},"Add Data to Exige")," ",l.a.createElement("br",null),l.a.createElement(le.a,{id:"standard-multiline-static",label:"Load Data",multiline:!0,rows:"10",variant:"outlined",style:{width:"100%"},onChange:function(e){return r(e.target.value)},value:a}),l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement(G.a,{variant:"contained",color:"primary",size:"large",endIcon:l.a.createElement(K.a,null,"add"),onClick:function(){console.log("Adding Operation to ExigeStore...");try{var e=JSON.parse(a);if(Array.isArray(e))e.forEach((function(e){var t=re(e),a=t.gufi;o.operations[a]=t}));else{var t=re(e),n=t.gufi;o.operations[n]=t}r("")}catch(l){console.error("Caught error when parsing inputData - ",l)}}},"Add Data")))})),ie=a(162),ce=a(81),ue=a(163),se=a(169),de=a(170),me=a(2),ge=a(6),fe=a(323),he=a(104),ve=function(e){Object(de.a)(a,e);var t=Object(se.a)(a);function a(){var e;Object(_.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getRowClassName=function(t){var a=t.index,n=e.props,l=n.classes,r=n.onRowClick;return Object(me.a)(l.tableRow,l.flexContainer,Object(ce.a)({},l.tableRowHover,-1!==a&&null!=r))},e.cellRenderer=function(t){var a=t.cellData,n=t.columnIndex,r=e.props,o=r.columns,i=r.classes,c=r.rowHeight,u=r.onRowClick;return l.a.createElement(fe.a,{component:"div",className:Object(me.a)(i.tableCell,i.flexContainer,Object(ce.a)({},i.noClick,null==u)),variant:"body",style:{height:c},align:null!=n&&o[n].numeric?"right":"left"},a)},e.headerRenderer=function(t){var a=t.label,n=t.columnIndex,r=e.props,o=r.headerHeight,i=r.columns,c=r.classes;return l.a.createElement(fe.a,{component:"div",className:Object(me.a)(c.tableCell,c.flexContainer,c.noClick),variant:"head",style:{height:o,backgroundColor:"#212121"},align:i[n].numeric?"right":"left"},l.a.createElement("span",null,a))},e}return Object(ue.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.columns,r=t.rowHeight,o=t.headerHeight,i=Object(Z.a)(t,["classes","columns","rowHeight","headerHeight"]);return l.a.createElement(he.a,null,(function(t){var c=t.height,u=t.width;return l.a.createElement(he.c,Object.assign({height:c,width:u,rowHeight:r,gridStyle:{direction:"inherit"},headerHeight:o,className:a.table},i,{rowClassName:e.getRowClassName}),n.map((function(t,n){var r=t.dataKey,o=Object(Z.a)(t,["dataKey"]);return l.a.createElement(he.b,Object.assign({key:r,headerRenderer:function(t){return e.headerRenderer(Object(ie.a)({},t,{columnIndex:n}))},className:a.flexContainer,cellRenderer:e.cellRenderer,dataKey:r},o))})))}))}}]),a}(l.a.PureComponent);ve.defaultProps={headerHeight:48,rowHeight:48};var pe=Object(ge.a)((function(e){return{flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},table:{"& .ReactVirtualized__Table__headerRow":{flip:!1,paddingRight:"rtl"===e.direction?"0 !important":void 0}},tableRow:{cursor:"pointer"},tableCell:{flex:1},noClick:{cursor:"initial"}}}))(ve),be=Object(A.a)((function(){var e=Object(n.useContext)(J).operations,t=Object.values(e);return l.a.createElement(ee.a,{style:{height:500,width:"100%"}},l.a.createElement(pe,{rowCount:t.length,rowGetter:function(e){var a=e.index;return t[a]},columns:[{width:350,label:"GUFI",dataKey:"gufi"},{width:220,label:"State",dataKey:"state"},{width:300,label:"Owner",dataKey:"owner"}]}))})),Ee=l.a.forwardRef((function(e,t){return l.a.createElement($.a,Object.assign({direction:"up",ref:t},e))}));function ye(e){var t=e.children,a=e.value,n=e.index,r=Object(Z.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&l.a.createElement(ne.a,{p:3},t))}function xe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var we=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],r=t[1],o=function(){r(!1)},i=l.a.useState(0),c=Object(h.a)(i,2),u=c[0],s=c[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{variant:"contained",onClick:function(){r(!0)},style:{marginLeft:"10px",backgroundColor:"#2e7d32",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},endIcon:l.a.createElement(K.a,null,"add")},"Manage Data"),l.a.createElement(U.a,{open:a,TransitionComponent:Ee,keepMounted:!0,onClose:o,"aria-label":"manage-exige-data-dialog",maxWidth:"md",fullWidth:!0},l.a.createElement(q.a,null,l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"Manage Exige Data")),l.a.createElement(Q.a,null,l.a.createElement(ee.a,{elevation:0,style:{backgroundColor:"#212121"}},l.a.createElement(te.a,{centered:!0,value:u,onChange:function(e,t){s(t)},indicatorColor:"primary","aria-label":"manage-exige-data-tabs"},l.a.createElement(ae.a,Object.assign({label:"List"},xe(0))),l.a.createElement(ae.a,Object.assign({label:"Add"},xe(1))))),l.a.createElement(ye,{value:u,index:0},l.a.createElement(be,null)),l.a.createElement(ye,{value:u,index:1},l.a.createElement(oe,null))),l.a.createElement(Y.a,null,l.a.createElement(G.a,{onClick:o},"Close"))))};var Ce=function(){return l.a.createElement("div",{className:"OptionsBar"},l.a.createElement("div",{style:{flexGrow:1}},l.a.createElement(G.a,{variant:"contained",color:"primary",style:{marginLeft:"10px",fontFamily:"IBM Plex Mono",color:"white",fontWeight:"bold"},endIcon:l.a.createElement(K.a,null,"settings")},"Options"),l.a.createElement(we,null)),l.a.createElement(X,null))},Oe=(a(262),Object(A.a)((function(){var e=Object(n.useContext)(J);return l.a.createElement("div",{className:"MouseLocationPanel"},l.a.createElement("div",{style:{fontFamily:"IBM Plex Mono",fontWeight:"bold",fontStyle:"italic"}},"Mouse Location"),l.a.createElement("pre",{style:{fontFamily:"IBM Plex Mono",fontSize:"11px"}},JSON.stringify(function(){var t=e.mouseLocation,a=Math.PI*(t.lat/180),n=Math.pow(2,10),l=Math.trunc((t.lng+180)/360*n),r=Math.trunc((1-Math.log(Math.tan(a)+1/Math.cos(a))/Math.PI)/2*n);return t.x=l,t.y=r,t.zoomLevel=parseInt(10),t}(),null,2)))})));var je=function(){return l.a.createElement("div",null,l.a.createElement(H,null),l.a.createElement(Ce,null),l.a.createElement(Oe,null))},Me=Object(f.a)((function(e){return{root:{display:"flex",height:"100%"},content:{flex:"1",height:"100vh",display:"flex",paddingTop:e.spacing(8)},mainContent:{height:"100%",width:"100%"}}}));function ke(){return l.a.createElement("h2",null,"Inspector")}var Ie=function(e){var t=e.hideLoader,a=Me();return Object(n.useEffect)(t,[]),l.a.createElement("div",null,l.a.createElement(u.a,{basename:"/exige"},l.a.createElement(D,null),l.a.createElement("main",{className:a.content},l.a.createElement("div",{className:a.mainContent},l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/inspector"},l.a.createElement(ke,null)),l.a.createElement(s.a,{path:"/"},l.a.createElement(je,null)))))))},Ne=a(103),Se=a(168),Le=Object(Se.a)({palette:{type:"dark",primary:{main:Ne.a[500]},secondary:{main:"#f44336"}}}),Te=(a(263),document.querySelector(".loader"));o.a.render(l.a.createElement(c.a,{theme:Le},l.a.createElement(i.a,null),l.a.createElement(Ie,{hideLoader:function(){return Te.classList.add("loader--hide")},showLoader:function(){return Te.classList.remove("loader--hide")}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t){e.exports=Cesium}},[[190,1,2]]]);
//# sourceMappingURL=main.029155aa.chunk.js.map