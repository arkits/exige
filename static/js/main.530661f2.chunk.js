(this["webpackJsonpexige-react"]=this["webpackJsonpexige-react"]||[]).push([[0],{157:function(e,t,a){e.exports=a(419)},416:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(68),l=a.n(o),i=a(10),c=a(53),s=a(41),d=a(69);var m=function(){return r.a.createElement("div",{className:"AppBar",style:{padding:20}},r.a.createElement(i.Header,{animate:!0},r.a.createElement(i.Row,{style:{margin:0,display:"flex",alignItems:"stretch"}},r.a.createElement(d.Col,{s:12,m:6,style:{textAlign:"left"}},r.a.createElement(i.Heading,{node:"h1"},"-/Exige")),r.a.createElement(d.Col,{s:12,m:6,style:{textAlign:"right"}},r.a.createElement(c.b,{className:"navLink",to:"/"},"Composer"),r.a.createElement("span",{style:{padding:20}}),r.a.createElement(c.b,{className:"navLink",to:"/dashboard"},"Dashboard"),r.a.createElement("span",{style:{padding:20}}),r.a.createElement(c.b,{className:"navLink",to:"/about"},"About")))))},u=a(422),p=r.a.createContext(),E=function(e){var t=e.children,a=Object(u.a)((function(){return{zoomLevel:10,operations:[],positions:[],addOperation:function(e){a.operations.push(e)},get operationsCount(){return a.operations.length}}}));return r.a.createElement(p.Provider,{value:a},t)};var h=function(){return r.a.createElement("div",null,r.a.createElement(i.Row,{nested:!0,noMargin:!0},r.a.createElement(i.Col,{s:7},r.a.createElement(i.Frame,{animate:!0,level:1,corners:3},r.a.createElement(i.Content,{style:{margin:20}},r.a.createElement("h1",null,"About Exige"),r.a.createElement("p",null,"Exige is a proof-of-concept traffic visualizer for UAM / UTM data."),r.a.createElement("h2",null,"Exige is built with: "),r.a.createElement("ul",null,r.a.createElement("li",null,"react"),r.a.createElement("li",null,"react-map-gl"),r.a.createElement("li",null,"arwes"),r.a.createElement("li",null,"mobx"),r.a.createElement("li",null,"axios"),r.a.createElement("li",null,"node-sass")),r.a.createElement("center",null,r.a.createElement("a",{href:"https://github.com/arkits/exige-react/",target:"_blank",without:!0,rel:"noopener noreferrer"},r.a.createElement(i.Button,{animate:!0},"View on GitHub"))),r.a.createElement("br",null)))),r.a.createElement(i.Col,{s:5},r.a.createElement(i.Frame,{animate:!0,level:1,corners:3},r.a.createElement(i.Content,{style:{margin:20}},r.a.createElement("h1",null,"Store Dump"),r.a.createElement((function(){var e=r.a.useContext(p);return Object(u.b)((function(){return r.a.createElement("pre",{style:{fontSize:"12px"}},JSON.stringify(e,null,2))}))}),null))))))},g=a(5),f=a(4),v=a(7),b=a(6),S=a(8),w=a(70),L=a.n(w),y=a(36),x=a(17);function N(e){e.feature;switch(e.state){case x.RenderStates.SELECTED:case x.RenderStates.HOVERED:case x.RenderStates.UNCOMMITTED:return{fill:"rgb(251, 176, 59)",fillOpacity:1,stroke:"rgb(255, 255, 255)",strokeWidth:2,r:7};default:return{fill:"rgb(251, 176, 59)",fillOpacity:1,stroke:"rgb(255, 255, 255)",strokeWidth:2,r:5}}}function M(e){e.feature,e.index;switch(e.state){case x.RenderStates.SELECTED:case x.RenderStates.HOVERED:case x.RenderStates.UNCOMMITTED:case x.RenderStates.CLOSING:return{stroke:"rgb(251, 176, 59)",strokeWidth:2,fill:"rgb(251, 176, 59)",fillOpacity:.3,strokeDasharray:"4,2"};default:return{stroke:"rgb(60, 178, 208)",strokeWidth:2,fill:"rgb(60, 178, 208)",fillOpacity:.1}}}var C=function(e){var t=e.mouseLocation,a=e.zoomLevel;return r.a.createElement("div",{className:"MouseLocationPanel"},r.a.createElement(i.Frame,{corners:4,layer:"primary"},r.a.createElement("div",{style:{padding:"10px 20px"}},r.a.createElement("pre",{style:{fontSize:14}},JSON.stringify(function(){if(null==t.latitude||null==t.longitude)return{};var e=Math.PI*(t.latitude/180),n=Math.pow(2,a),r=Math.trunc((t.longitude+180)/360*n),o=Math.trunc((1-Math.log(Math.tan(e)+1/Math.cos(e))/Math.PI)/2*n);return t.x=r,t.y=o,t.zoomLevel=parseInt(a),t}(),null,2)))))};var O=function(e){var t=e.data;return r.a.createElement("div",{className:"fh"},r.a.createElement(i.Project,{className:"fh",animate:!0,header:"Composer",icon:null},r.a.createElement("textarea",{className:"composerSidebarTextarea",value:function(e){var t=[];return null!=e&&e.forEach((function(e){t.push(e.geometry)})),JSON.stringify(t,null,2)}(t)})))},_=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e)))._updateViewport=function(e){a.setState({viewport:e})},a._onSelect=function(e){a.setState({selectedFeatureIndex:e&&e.selectedFeatureIndex})},a._onDelete=function(){var e=a.state.selectedFeatureIndex;null!==e&&e>=0&&a._editorRef.deleteFeatures(e)},a._onUpdate=function(e){"addFeature"===e.editType&&a.setState({mode:x.EditorModes.EDITING})},a.renderDrawTools=function(){return r.a.createElement("div",{className:"mapboxgl-ctrl-top-left"},r.a.createElement("div",{className:"mapboxgl-ctrl-group mapboxgl-ctrl"},r.a.createElement("button",{className:"mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_polygon",title:"Polygon tool (p)",onClick:function(){return a.setState({mode:x.EditorModes.DRAW_POLYGON})}}),r.a.createElement("button",{className:"mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_trash",title:"Delete",onClick:a._onDelete})))},a.renderMouseLocationPanel=function(){return r.a.createElement(C,{containerComponent:a.props.containerComponent,mouseLocation:a.state.mouseLocation,zoomLevel:a.state.gridZoomLevel})},a.renderComposerSidebar=function(){var e=a._editorRef&&a._editorRef.getFeatures();return r.a.createElement(O,{data:e})},a.updateMouseLocation=function(e){a.setState({mouseLocation:{latitude:e.lngLat[1],longitude:e.lngLat[0]}})},a.handleGridZoomLevelSelectChange=function(e){var t=e.target.value;a.setState({gridZoomLevel:t}),a.drawGridTiles(t)},a.onMapLoad=function(){console.log("Map Loaded"),a.drawGridTiles(a.state.gridZoomLevel)},a.drawGridTiles=function(e){if(0!==e){a.setState({gridAdaptationZoomLevel:e});var t="https://raw.githubusercontent.com/arkits/exige-react/master/grid/"+e+".json";L.a.get(t).then((function(e){console.log("Got Grid Adaptation!"),a.setState({gridAdaptation:null}),a.setState({gridAdaptation:e.data})}))}},a._editorRef=null,a.state={viewport:{width:"100%",height:"100%",latitude:37.719,longitude:-122.344,zoom:10},mode:x.EditorModes.READ_ONLY,selectedFeatureIndex:null,mouseLocation:{},gridAdaptation:null,gridZoomLevel:"10"},a}return Object(S.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.viewport,n=t.mode;return r.a.createElement("div",{className:"fh"},r.a.createElement(i.Row,{className:"fh"},r.a.createElement(i.Col,{s:9,className:"fh"},r.a.createElement("h1",null,this.props.viewType),r.a.createElement(y.default,Object.assign({},a,{mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxApiAccessToken:"pk.eyJ1IjoiYXJraXRzIiwiYSI6ImNqc3Bud29jMjAzcWc0OXJ6Y3YzOHltaTcifQ.EMMG5GSbT0T-lD8RGJgnAA",onViewportChange:this._updateViewport,onMouseMove:this.updateMouseLocation,onLoad:this.onMapLoad}),r.a.createElement(x.Editor,{ref:function(t){return e._editorRef=t},style:{width:"100%",height:"100%"},clickRadius:12,mode:n,onSelect:this._onSelect,onUpdate:this._onUpdate,editHandleShape:"circle",featureStyle:M,editHandleStyle:N}),r.a.createElement(y.Source,{type:"geojson",data:this.state.gridAdaptation},r.a.createElement(y.Layer,{id:"1",type:"fill",paint:{"fill-color":"rgba(255,255,255,0.0)","fill-outline-color":"rgba(51, 181, 229,1.0)","fill-opacity":1}})),this.renderDrawTools(),this.renderMouseLocationPanel())),r.a.createElement(i.Col,{s:3,className:"fh",style:{flexDirection:"column"}},r.a.createElement("select",{className:"gridZoomLevelSelect",value:this.value,onChange:this.handleGridZoomLevelSelectChange},r.a.createElement("option",{value:"0"},"Zoom Level"),r.a.createElement("option",{value:"12"},"12"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"9"},"9")),r.a.createElement("br",null),this.renderComposerSidebar())))}}]),t}(n.Component);var T=function(e){var t=e.data;return r.a.createElement("div",{className:"fh"},r.a.createElement(i.Project,{className:"fh",animate:!0,header:"Dashboard",icon:null},r.a.createElement("textarea",{className:"composerSidebarTextarea",value:function(e){var t=[];return null!=e&&e.forEach((function(e){t.push(e.geometry)})),JSON.stringify(t,null,2)}(t)})))},k=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e)))._updateViewport=function(e){a.setState({viewport:e})},a._onSelect=function(e){a.setState({selectedFeatureIndex:e&&e.selectedFeatureIndex})},a._onDelete=function(){var e=a.state.selectedFeatureIndex;null!==e&&e>=0&&a._editorRef.deleteFeatures(e)},a._onUpdate=function(e){"addFeature"===e.editType&&a.setState({mode:x.EditorModes.EDITING})},a.renderDrawTools=function(){return r.a.createElement("div",{className:"mapboxgl-ctrl-top-left"},r.a.createElement("div",{className:"mapboxgl-ctrl-group mapboxgl-ctrl"},r.a.createElement("button",{className:"mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_polygon",title:"Polygon tool (p)",onClick:function(){return a.setState({mode:x.EditorModes.DRAW_POLYGON})}}),r.a.createElement("button",{className:"mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_trash",title:"Delete",onClick:a._onDelete})))},a.renderMouseLocationPanel=function(){return r.a.createElement(C,{containerComponent:a.props.containerComponent,mouseLocation:a.state.mouseLocation,zoomLevel:a.state.gridZoomLevel})},a.renderComposerSidebar=function(){var e=a._editorRef&&a._editorRef.getFeatures();return r.a.createElement(T,{data:e})},a.updateMouseLocation=function(e){a.setState({mouseLocation:{latitude:e.lngLat[1],longitude:e.lngLat[0]}})},a.handleGridZoomLevelSelectChange=function(e){var t=e.target.value;a.setState({gridZoomLevel:t}),a.drawGridTiles(t)},a.onMapLoad=function(){console.log("Map Loaded"),a.drawGridTiles(a.state.gridZoomLevel)},a.drawGridTiles=function(e){if(0!==e){a.setState({gridAdaptationZoomLevel:e});var t="https://raw.githubusercontent.com/arkits/exige-react/master/grid/"+e+".json";L.a.get(t).then((function(e){console.log("Got Grid Adaptation!"),a.setState({gridAdaptation:null}),a.setState({gridAdaptation:e.data})}))}},a._editorRef=null,a.state={viewport:{width:"100%",height:"100%",latitude:37.719,longitude:-122.344,zoom:10},mode:x.EditorModes.READ_ONLY,selectedFeatureIndex:null,mouseLocation:{},gridAdaptation:null,gridZoomLevel:"10"},a}return Object(S.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.viewport,n=t.mode;return r.a.createElement("div",{className:"fh"},r.a.createElement(i.Row,{className:"fh"},r.a.createElement(i.Col,{s:9,className:"fh"},r.a.createElement("h1",null,this.props.viewType),r.a.createElement(y.default,Object.assign({},a,{mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxApiAccessToken:"pk.eyJ1IjoiYXJraXRzIiwiYSI6ImNqc3Bud29jMjAzcWc0OXJ6Y3YzOHltaTcifQ.EMMG5GSbT0T-lD8RGJgnAA",onViewportChange:this._updateViewport,onMouseMove:this.updateMouseLocation,onLoad:this.onMapLoad}),r.a.createElement(x.Editor,{ref:function(t){return e._editorRef=t},style:{width:"100%",height:"100%"},clickRadius:12,mode:n,onSelect:this._onSelect,onUpdate:this._onUpdate,editHandleShape:"circle",featureStyle:M,editHandleStyle:N}),r.a.createElement(y.Source,{type:"geojson",data:this.state.gridAdaptation},r.a.createElement(y.Layer,{id:"1",type:"fill",paint:{"fill-color":"rgba(255,255,255,0.0)","fill-outline-color":"rgba(51, 181, 229,1.0)","fill-opacity":1}})),this.renderDrawTools(),this.renderMouseLocationPanel())),r.a.createElement(i.Col,{s:3,className:"fh",style:{flexDirection:"column"}},r.a.createElement("select",{className:"gridZoomLevelSelect",value:this.value,onChange:this.handleGridZoomLevelSelectChange},r.a.createElement("option",{value:"0"},"Zoom Level"),r.a.createElement("option",{value:"12"},"12"),r.a.createElement("option",{value:"11"},"11"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"9"},"9")),r.a.createElement("br",null),this.renderComposerSidebar())))}}]),t}(n.Component);var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.ThemeProvider,{theme:Object(i.createTheme)()},r.a.createElement(i.Arwes,{animate:!0},r.a.createElement(c.a,{basename:"/exige-react"},r.a.createElement("div",{class:"box"},r.a.createElement("div",{class:"row"},r.a.createElement(m,null)),r.a.createElement("div",{class:"row content"},r.a.createElement(E,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/about"},r.a.createElement(h,null)),r.a.createElement(s.a,{path:"/dashboard"},r.a.createElement(k,{className:"fh"})),r.a.createElement(s.a,{path:"/"},r.a.createElement(_,{className:"fh"}))))))))))};a(416),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[157,1,2]]]);
//# sourceMappingURL=main.530661f2.chunk.js.map